"use strict";(self.webpackChunkeventpulse_frontend=self.webpackChunkeventpulse_frontend||[]).push([[934],{5934:(e,s,t)=>{t.r(s),t.d(s,{default:()=>h});var a=t(9379),n=t(5043),i=t(8729),r=t(4505),c=t(7304),o=t(6058),l=t(8021),d=t(579);c.t1.register(c.Bs,c.PP,c.kc,c.E8,c.No,c.FN,c.hE,c.m_,c.s$);const h=()=>{const{user:e}=(0,i.A)(),[s,t]=(0,n.useState)({totalEvents:0,registeredEvents:0,attendedEvents:0,points:0}),[c,h]=(0,n.useState)({totalEvents:0,registeredEvents:0,attendedEvents:0,points:0}),[v,u]=(0,n.useState)([]),[m,x]=(0,n.useState)([]),[j,p]=(0,n.useState)([]),[g,k]=(0,n.useState)(!0),[N,b]=(0,n.useState)(0),w=(0,n.useRef)(null);(0,n.useEffect)(()=>{f()},[]),(0,n.useEffect)(()=>{Object.keys(s).forEach(e=>{let t=0;const n=s[e],i=n/60,r=setInterval(()=>{t+=i,t>=n&&(t=n,clearInterval(r)),h(s=>(0,a.A)((0,a.A)({},s),{},{[e]:Math.floor(t)}))},25)})},[s]);const f=async()=>{try{const[s,a]=await Promise.all([r.XO.getMyRegistrations(),r.MT.getUpcoming({limit:6})]),n=s.data.registrations||[];x(n),u(a.data.events||[]),t({totalEvents:a.data.total||0,registeredEvents:n.length||0,attendedEvents:n.filter(e=>"attended"===e.status).length||0,points:(null===e||void 0===e?void 0:e.points)||0}),p([{id:1,type:"registration",title:"Registered for Science Fair",time:"2 hours ago",icon:"\ud83d\udcdd"},{id:2,type:"attendance",title:"Attended Sports Day",time:"1 day ago",icon:"\u2705"},{id:3,type:"badge",title:'Earned "Event Enthusiast" badge',time:"2 days ago",icon:"\ud83c\udfc6"},{id:4,type:"registration",title:"Registered for Music Concert",time:"3 days ago",icon:"\ud83d\udcdd"}])}catch(s){console.error("Error loading dashboard:",s)}finally{k(!1)}},y={labels:["Attended","Registered","Available"],datasets:[{data:[c.attendedEvents,c.registeredEvents-c.attendedEvents,c.totalEvents-c.registeredEvents],backgroundColor:["#10b981","#6366f1","#e5e7eb"],borderWidth:0,hoverOffset:10}]},L={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,borderRadius:8,titleFont:{size:14,weight:"bold"},bodyFont:{size:13}}},animation:{duration:1500,easing:"easeInOutQuart"}};return g?(0,d.jsx)("div",{className:"loading-overlay",children:(0,d.jsx)("div",{className:"spinner"})}):(0,d.jsxs)("div",{className:"dashboard-page",children:[(0,d.jsx)("div",{className:"dashboard-header",children:(0,d.jsx)("div",{className:"container",children:(0,d.jsx)("div",{className:"welcome-section",children:(0,d.jsxs)("div",{className:"welcome-content",children:[(0,d.jsxs)("h1",{children:["Welcome back, ",null===e||void 0===e?void 0:e.name,"!"]}),(0,d.jsx)("p",{children:"Here's what's happening with your events today."})]})})})}),(0,d.jsxs)("div",{className:"container",children:[(0,d.jsxs)("div",{className:"dashboard-stats",children:[(0,d.jsxs)("div",{className:"stat-card",style:{animationDelay:"0s"},children:[(0,d.jsx)("div",{className:"stat-icon gradient-purple",children:(0,d.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,d.jsxs)("div",{className:"stat-content",children:[(0,d.jsx)("h3",{className:"count-up",children:c.registeredEvents}),(0,d.jsx)("p",{children:"Registered Events"})]})]}),(0,d.jsxs)("div",{className:"stat-card",style:{animationDelay:"0.1s"},children:[(0,d.jsx)("div",{className:"stat-icon gradient-green",children:(0,d.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,d.jsxs)("div",{className:"stat-content",children:[(0,d.jsx)("h3",{className:"count-up",children:c.attendedEvents}),(0,d.jsx)("p",{children:"Events Attended"})]})]}),(0,d.jsxs)("div",{className:"stat-card",style:{animationDelay:"0.2s"},children:[(0,d.jsx)("div",{className:"stat-icon gradient-yellow",children:(0,d.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,d.jsxs)("div",{className:"stat-content",children:[(0,d.jsx)("h3",{className:"count-up",children:c.points}),(0,d.jsx)("p",{children:"Total Points"})]})]}),(0,d.jsxs)("div",{className:"stat-card",style:{animationDelay:"0.3s"},children:[(0,d.jsx)("div",{className:"stat-icon gradient-blue",children:(0,d.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,d.jsxs)("div",{className:"stat-content",children:[(0,d.jsx)("h3",{className:"count-up",children:c.totalEvents}),(0,d.jsx)("p",{children:"Available Events"})]})]})]}),(0,d.jsxs)("div",{className:"dashboard-grid",children:[(0,d.jsxs)("div",{className:"dashboard-section",children:[(0,d.jsx)("div",{className:"section-header",children:(0,d.jsx)("h2",{children:"Analytics Overview"})}),(0,d.jsxs)("div",{className:"charts-grid",children:[(0,d.jsxs)("div",{className:"chart-container",children:[(0,d.jsx)("h3",{children:"Participation"}),(0,d.jsx)("div",{className:"chart-wrapper",children:(0,d.jsx)(o.nu,{data:y,options:L})})]}),(0,d.jsxs)("div",{className:"chart-container",children:[(0,d.jsx)("h3",{children:"Weekly Activity"}),(0,d.jsx)("div",{className:"chart-wrapper",children:(0,d.jsx)(o.yP,{data:{labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],datasets:[{label:"Events",data:[3,5,2,8,4,6,3],backgroundColor:"rgba(99, 102, 241, 0.8)",borderRadius:8,barThickness:30}]},options:L})})]})]})]}),(0,d.jsxs)("div",{className:"dashboard-section",children:[(0,d.jsx)("div",{className:"section-header",children:(0,d.jsx)("h2",{children:"Recent Activity"})}),(0,d.jsx)("div",{className:"activity-timeline",children:j.map((e,s)=>(0,d.jsxs)("div",{className:"timeline-item fade-in",style:{animationDelay:"".concat(.1*s,"s")},children:[(0,d.jsx)("div",{className:"timeline-icon",children:e.icon}),(0,d.jsxs)("div",{className:"timeline-content",children:[(0,d.jsx)("p",{className:"timeline-title",children:e.title}),(0,d.jsx)("span",{className:"timeline-time",children:e.time})]})]},e.id))})]})]}),(0,d.jsxs)("div",{className:"dashboard-section full-width",children:[(0,d.jsxs)("div",{className:"section-header",children:[(0,d.jsx)("h2",{children:"Recommended For You"}),(0,d.jsxs)("div",{className:"carousel-controls",children:[(0,d.jsx)("button",{onClick:()=>{b(e=>(e-1+Math.ceil(v.length/3))%Math.ceil(v.length/3))},className:"carousel-btn",children:(0,d.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"20",height:"20",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,d.jsx)("button",{onClick:()=>{b(e=>(e+1)%Math.ceil(v.length/3))},className:"carousel-btn",children:(0,d.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"20",height:"20",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),v.length>0?(0,d.jsx)("div",{className:"events-carousel",ref:w,children:(0,d.jsx)("div",{className:"carousel-track",style:{transform:"translateX(-".concat(100*N,"%)")},children:v.map(e=>(0,d.jsx)("div",{className:"carousel-slide",children:(0,d.jsx)(l.A,{event:e})},e._id))})}):(0,d.jsxs)("div",{className:"empty-state",children:[(0,d.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"64",height:"64",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,d.jsx)("h3",{children:"No events available"}),(0,d.jsx)("p",{children:"Check back later for new events"})]})]})]})]})}},8021:(e,s,t)=>{t.d(s,{A:()=>v});var a=t(5043),n=t(5475),i=t(6847),r=t(6984),c=t(3926),o=t(3162),l=t(7842),d=t(7503),h=t(579);const v=e=>{let{event:s}=e;const[t,v]=(0,a.useState)({days:0,hours:0,minutes:0,seconds:0}),[u,m]=(0,a.useState)(!1),[x,j]=(0,a.useState)(!1),[p,g]=(0,a.useState)({x:0,y:0}),k=(0,a.useRef)(null);(0,a.useEffect)(()=>{const e=()=>{const e=new Date,t=new Date(s.startDate),a=(0,i.A)(t,e),n=(0,r.A)(t,e)%24,l=(0,c.A)(t,e)%60,d=(0,o.A)(t,e)%60;v({days:a,hours:n,minutes:l,seconds:d})};if("upcoming"===s.status){e();const s=setInterval(e,1e3);return()=>clearInterval(s)}},[s.startDate,s.status]);const N=e=>{const s={Sports:"#f59e0b",Academic:"#3b82f6",Cultural:"#ec4899",Exhibition:"#8b5cf6",Debate:"#10b981",Workshop:"#f97316",Social:"#06b6d4",Other:"#6366f1"};return s[e]||s.Other},b=(e=>{const s={upcoming:{class:"badge-info",label:"Upcoming"},ongoing:{class:"badge-success",label:"Live Now"},completed:{class:"badge-error",label:"Completed"},cancelled:{class:"badge-error",label:"Cancelled"}};return s[e]||s.upcoming})(s.status),w=s.capacity-s.registeredCount,f=w<=.2*s.capacity&&w>0,y=s.registeredCount/s.capacity*100;return(0,h.jsxs)(n.N_,{to:"/events/".concat(s._id),className:"event-card",ref:k,style:{borderLeft:"4px solid ".concat(N(s.category)),transform:"perspective(1000px) rotateX(".concat(p.x,"deg) rotateY(").concat(p.y,"deg)")},onMouseMove:e=>{if(!k.current)return;const s=k.current.getBoundingClientRect(),t=e.clientX-s.left,a=e.clientY-s.top,n=s.width/2,i=s.height/2;g({x:(a-i)/i*-10,y:(t-n)/n*10})},onMouseEnter:()=>m(!0),onMouseLeave:()=>{g({x:0,y:0}),m(!1)},children:[(0,h.jsxs)("div",{className:"event-card-image",children:[s.image?(0,h.jsx)("img",{src:s.image,alt:s.title}):(0,h.jsx)("div",{className:"event-card-placeholder",style:{background:N(s.category)},children:(0,h.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,h.jsx)("div",{className:"event-card-gradient-overlay"}),(0,h.jsxs)("div",{className:"event-card-badges",children:[(()=>{const e=new Date(s.createdAt);return(0,i.A)(new Date,e)<=7})()&&(0,h.jsx)("span",{className:"badge badge-new",children:"New"}),(0,h.jsx)("span",{className:"badge ".concat(b.class),children:b.label}),s.isFeatured&&(0,h.jsx)("span",{className:"badge badge-warning",children:"Featured"})]}),u&&(0,h.jsxs)("div",{className:"event-quick-actions",children:[(0,h.jsx)("button",{className:"quick-action-btn",onClick:e=>{e.preventDefault(),navigator.clipboard.writeText(window.location.origin+"/events/".concat(s._id)),d.oR.success("Link copied to clipboard!")},title:"Share",children:(0,h.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"18",height:"18",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})})}),(0,h.jsx)("button",{className:"quick-action-btn bookmark-btn ".concat(x?"bookmarked":""),onClick:e=>{e.preventDefault(),j(!x),d.oR.success(x?"Event removed from bookmarks!":"Event bookmarked!")},title:"Save",children:(0,h.jsx)("svg",{fill:x?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"18",height:"18",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})})})]}),u&&(0,h.jsxs)("div",{className:"event-quick-preview",children:[(0,h.jsxs)("div",{className:"preview-item",children:[(0,h.jsxs)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"16",height:"16",children:[(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),(0,h.jsxs)("span",{children:[s.views||0," views"]})]}),(0,h.jsxs)("div",{className:"preview-item",children:[(0,h.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"16",height:"16",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,h.jsx)("span",{children:(0,l.A)(new Date(s.startDate),"h:mm a")})]})]})]}),(0,h.jsxs)("div",{className:"event-card-content",children:["upcoming"===s.status&&t.days>=0&&(0,h.jsxs)("div",{className:"event-countdown-live",children:[(0,h.jsx)("div",{className:"countdown-pulse"}),(0,h.jsxs)("div",{className:"countdown-items",children:[t.days>0&&(0,h.jsxs)("div",{className:"countdown-item",children:[(0,h.jsx)("span",{className:"countdown-value",children:t.days}),(0,h.jsx)("span",{className:"countdown-label",children:"d"})]}),(0,h.jsxs)("div",{className:"countdown-item",children:[(0,h.jsx)("span",{className:"countdown-value",children:t.hours}),(0,h.jsx)("span",{className:"countdown-label",children:"h"})]}),(0,h.jsxs)("div",{className:"countdown-item",children:[(0,h.jsx)("span",{className:"countdown-value",children:t.minutes}),(0,h.jsx)("span",{className:"countdown-label",children:"m"})]}),(0,h.jsxs)("div",{className:"countdown-item pulse-seconds",children:[(0,h.jsx)("span",{className:"countdown-value",children:t.seconds}),(0,h.jsx)("span",{className:"countdown-label",children:"s"})]})]})]}),(0,h.jsxs)("div",{className:"event-card-header",children:[(0,h.jsx)("span",{className:"event-category",style:{color:N(s.category)},children:s.category}),(0,h.jsxs)("div",{className:"event-date",children:[(0,h.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"16",height:"16",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,l.A)(new Date(s.startDate),"MMM dd, yyyy")]})]}),(0,h.jsx)("h3",{className:"event-card-title",children:s.title}),(0,h.jsx)("p",{className:"event-card-description",children:s.description.length>100?"".concat(s.description.substring(0,100),"..."):s.description}),(0,h.jsxs)("div",{className:"event-card-meta",children:[(0,h.jsxs)("div",{className:"event-meta-item",children:[(0,h.jsxs)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"18",height:"18",children:[(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.location]}),(0,h.jsxs)("div",{className:"event-meta-item",children:[(0,h.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"18",height:"18",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),s.registeredCount," / ",s.capacity]})]}),s.requiresRegistration&&(0,h.jsx)("div",{className:"event-card-footer",children:w>0?(0,h.jsxs)("div",{className:"event-availability ".concat(f?"almost-full":""),children:[(0,h.jsx)("div",{className:"availability-bar",children:(0,h.jsx)("div",{className:"availability-fill animated-fill",style:{width:"".concat(y,"%"),background:f?"linear-gradient(90deg, #f59e0b 0%, #f97316 100%)":"linear-gradient(90deg, #6366f1 0%, #8b5cf6 100%)"},children:(0,h.jsx)("div",{className:"fill-shimmer"})})}),(0,h.jsx)("span",{className:"availability-text",children:f?"Only ".concat(w," spots left!"):"".concat(w," spots available")})]}):(0,h.jsxs)("div",{className:"event-full",children:[(0,h.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"18",height:"18",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Event Full"]})})]})]})}}}]);
//# sourceMappingURL=934.1274524b.chunk.js.map