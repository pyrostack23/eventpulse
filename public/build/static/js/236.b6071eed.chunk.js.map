{"version":3,"file":"static/js/236.b6071eed.chunk.js","mappings":"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","sources":["pages/MyEventsPage.js","components/EventTicketQR.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { registrationsAPI } from '../services/api';\nimport { format } from 'date-fns';\nimport { toast } from 'react-toastify';\nimport { useAuth } from '../context/AuthContext';\nimport EventTicketQR from '../components/EventTicketQR';\nimport './MyEventsPage.css';\n\nconst MyEventsPage = () => {\n  const { user } = useAuth();\n  const [registrations, setRegistrations] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState('upcoming');\n  const [selectedRegistration, setSelectedRegistration] = useState(null);\n\n  useEffect(() => {\n    loadRegistrations();\n  }, []);\n\n  const loadRegistrations = async () => {\n    try {\n      const response = await registrationsAPI.getMyRegistrations();\n      setRegistrations(response.data.registrations || []);\n    } catch (error) {\n      console.error('Error loading registrations:', error);\n      toast.error('Failed to load your events');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCancelRegistration = async (registrationId) => {\n    if (!window.confirm('Are you sure you want to cancel this registration?')) {\n      return;\n    }\n\n    try {\n      await registrationsAPI.cancel(registrationId);\n      toast.success('Registration cancelled successfully');\n      loadRegistrations();\n    } catch (error) {\n      console.error('Error cancelling registration:', error);\n      toast.error('Failed to cancel registration');\n    }\n  };\n\n  const handleShowQR = (registration) => {\n    setSelectedRegistration(registration);\n  };\n\n  const filterRegistrations = (status) => {\n    const now = new Date();\n    return registrations.filter(reg => {\n      const eventDate = new Date(reg.event?.startDate);\n      \n      switch(status) {\n        case 'upcoming':\n          return eventDate > now && !reg.attended;\n        case 'attended':\n          return reg.attended;\n        case 'past':\n          return eventDate < now && !reg.attended;\n        default:\n          return true;\n      }\n    });\n  };\n\n  const filteredRegistrations = filterRegistrations(activeTab);\n\n  if (loading) {\n    return (\n      <div className=\"loading-overlay\">\n        <div className=\"spinner\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"my-events-page\">\n      <div className=\"page-header\">\n        <div className=\"container\">\n          <h1>My Events</h1>\n          <p>Manage your event registrations and attendance</p>\n        </div>\n      </div>\n\n      <div className=\"container\">\n        {/* Tabs */}\n        <div className=\"tabs-container\">\n          <button \n            className={`tab ${activeTab === 'upcoming' ? 'active' : ''}`}\n            onClick={() => setActiveTab('upcoming')}\n          >\n            <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" width=\"20\" height=\"20\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n            Upcoming\n            <span className=\"tab-count\">{filterRegistrations('upcoming').length}</span>\n          </button>\n          <button \n            className={`tab ${activeTab === 'attended' ? 'active' : ''}`}\n            onClick={() => setActiveTab('attended')}\n          >\n            <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" width=\"20\" height=\"20\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n            Attended\n            <span className=\"tab-count\">{filterRegistrations('attended').length}</span>\n          </button>\n          <button \n            className={`tab ${activeTab === 'past' ? 'active' : ''}`}\n            onClick={() => setActiveTab('past')}\n          >\n            <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" width=\"20\" height=\"20\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n            Past\n            <span className=\"tab-count\">{filterRegistrations('past').length}</span>\n          </button>\n        </div>\n\n        {/* Events List */}\n        {filteredRegistrations.length > 0 ? (\n          <div className=\"events-list\">\n            {filteredRegistrations.map((registration) => (\n              <div key={registration._id} className=\"event-item\">\n                <div className=\"event-item-image\">\n                  {registration.event?.image ? (\n                    <img src={registration.event.image} alt={registration.event.title} />\n                  ) : (\n                    <div className=\"event-placeholder\">\n                      <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                      </svg>\n                    </div>\n                  )}\n                </div>\n\n                <div className=\"event-item-content\">\n                  <div className=\"event-item-header\">\n                    <div>\n                      <span className=\"event-category\">{registration.event?.category}</span>\n                      <h3>{registration.event?.title}</h3>\n                    </div>\n                    <span className={`badge ${registration.attended ? 'badge-success' : 'badge-info'}`}>\n                      {registration.attended ? 'Attended' : 'Registered'}\n                    </span>\n                  </div>\n\n                  <p className=\"event-description\">{registration.event?.description}</p>\n\n                  <div className=\"event-item-meta\">\n                    <div className=\"meta-item\">\n                      <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" width=\"18\" height=\"18\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                      </svg>\n                      {format(new Date(registration.event?.startDate), 'PPP')}\n                    </div>\n                    <div className=\"meta-item\">\n                      <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" width=\"18\" height=\"18\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                      </svg>\n                      {format(new Date(registration.event?.startDate), 'p')}\n                    </div>\n                    <div className=\"meta-item\">\n                      <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" width=\"18\" height=\"18\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\n                      </svg>\n                      {registration.event?.location}\n                    </div>\n                  </div>\n\n                  <div className=\"event-item-actions\">\n                    {activeTab === 'upcoming' && (\n                      <>\n                        <button \n                          className=\"btn btn-sm btn-primary\"\n                          onClick={() => handleShowQR(registration)}\n                        >\n                          <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" width=\"18\" height=\"18\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z\" />\n                          </svg>\n                          Show QR Code\n                        </button>\n                        <button \n                          className=\"btn btn-sm btn-outline\"\n                          onClick={() => handleCancelRegistration(registration._id)}\n                        >\n                          Cancel Registration\n                        </button>\n                      </>\n                    )}\n                    {registration.attended && (\n                      <div className=\"attended-badge\">\n                        <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" width=\"20\" height=\"20\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                        </svg>\n                        You attended this event\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div className=\"empty-state\">\n            <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" width=\"64\" height=\"64\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n            </svg>\n            <h3>No {activeTab} events</h3>\n            <p>You don't have any {activeTab} events at the moment</p>\n          </div>\n        )}\n      </div>\n\n      {/* QR Code Modal */}\n      {selectedRegistration && (\n        <div className=\"modal-overlay\" onClick={() => setSelectedRegistration(null)}>\n          <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"modal-header\">\n              <h3>Event Ticket</h3>\n              <button className=\"modal-close\" onClick={() => setSelectedRegistration(null)}>\n                <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n            <div className=\"modal-body\">\n              <EventTicketQR\n                userId={user._id}\n                eventId={selectedRegistration.event._id}\n                registrationId={selectedRegistration._id}\n                eventTitle={selectedRegistration.event.title}\n                eventDate={selectedRegistration.event.startDate}\n              />\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MyEventsPage;\n\r\n\r\n","import React from 'react';\nimport { QRCodeSVG } from 'qrcode.react';\nimport './EventTicketQR.css';\n\nconst EventTicketQR = ({ registration }) => {\n  // Use the unique registration QR code\n  const qrData = registration?.qrCode || '';\n  const event = registration?.event;\n  const isExpired = event?.endDate ? new Date() > new Date(event.endDate) : false;\n  const isPaid = registration?.paymentStatus === 'completed';\n  const isFree = registration?.paymentStatus === 'not_required';\n  const isPending = registration?.paymentStatus === 'pending';\n\n  const downloadTicket = () => {\n    const svg = document.getElementById(`ticket-qr-${registration?._id}`);\n    const svgData = new XMLSerializer().serializeToString(svg);\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    const img = new Image();\n    \n    img.onload = () => {\n      canvas.width = img.width;\n      canvas.height = img.height;\n      ctx.drawImage(img, 0, 0);\n      const pngFile = canvas.toDataURL('image/png');\n      \n      const downloadLink = document.createElement('a');\n      downloadLink.download = `${registration?.event?.title || 'event'}-ticket-${registration?.ticketNumber}.png`;\n      downloadLink.href = pngFile;\n      downloadLink.click();\n    };\n    \n    img.src = 'data:image/svg+xml;base64,' + btoa(svgData);\n  };\n\n  return (\n    <div className=\"event-ticket-qr\">\n      <div className=\"ticket-card\">\n        <div className=\"ticket-header\">\n          <h3>Event Ticket</h3>\n          <span className={`ticket-status ${isExpired ? 'expired' : isPending ? 'pending' : 'confirmed'}`}>\n            {isExpired ? 'Expired' : isPending ? 'Payment Pending' : 'Confirmed'}\n          </span>\n        </div>\n        \n        <div className=\"ticket-details\">\n          <div className=\"ticket-number\">#{registration?.ticketNumber}</div>\n          <h4>{event?.title}</h4>\n          <p>{event?.startDate ? new Date(event.startDate).toLocaleDateString() : ''}</p>\n          {registration?.paymentAmount > 0 && (\n            <div className=\"ticket-price\">\n              <span className=\"price-label\">Amount Paid:</span>\n              <span className=\"price-value\">${registration.paymentAmount.toFixed(2)}</span>\n            </div>\n          )}\n          {isFree && (\n            <div className=\"ticket-free\">\n              <span className=\"free-badge\">FREE EVENT</span>\n            </div>\n          )}\n        </div>\n        \n        <div className=\"ticket-qr-wrapper\">\n          <QRCodeSVG\n            id={`ticket-qr-${registration?._id}`}\n            value={qrData}\n            size={180}\n            level=\"H\"\n            includeMargin={true}\n          />\n        </div>\n        \n        <div className=\"ticket-info\">\n          {isExpired ? (\n            <p className=\"ticket-warning\">⚠️ This ticket has expired</p>\n          ) : isPending ? (\n            <p className=\"ticket-warning\">⚠️ Complete payment to activate ticket</p>\n          ) : (\n            <p>✓ Show this QR code at the event entrance</p>\n          )}\n        </div>\n        \n        <div className=\"ticket-actions\">\n          <button \n            className=\"btn btn-primary\" \n            onClick={downloadTicket}\n            disabled={isPending || isExpired}\n          >\n            {isPending ? 'Payment Required' : isExpired ? 'Ticket Expired' : 'Download Ticket'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default EventTicketQR;\n"],"names":["MyEventsPage","user","useAuth","registrations","setRegistrations","useState","loading","setLoading","activeTab","setActiveTab","selectedRegistration","setSelectedRegistration","useEffect","loadRegistrations","async","response","registrationsAPI","getMyRegistrations","data","error","console","toast","filterRegistrations","status","now","Date","filter","reg","_reg$event","eventDate","event","startDate","attended","filteredRegistrations","_jsx","className","children","_jsxs","concat","onClick","fill","stroke","viewBox","width","height","strokeLinecap","strokeLinejoin","strokeWidth","d","length","map","registration","_registration$event","_registration$event2","_registration$event3","_registration$event4","_registration$event5","_registration$event6","_registration$event7","image","src","alt","title","category","description","format","location","_Fragment","handleShowQR","window","confirm","cancel","registrationId","success","handleCancelRegistration","_id","e","stopPropagation","EventTicketQR","userId","eventId","eventTitle","_ref","qrData","qrCode","isExpired","endDate","isFree","paymentStatus","isPending","ticketNumber","toLocaleDateString","paymentAmount","toFixed","QRCodeSVG","id","value","size","level","includeMargin","downloadTicket","svg","document","getElementById","svgData","XMLSerializer","serializeToString","canvas","createElement","ctx","getContext","img","Image","onload","drawImage","pngFile","toDataURL","downloadLink","download","href","click","btoa","disabled"],"sourceRoot":""}